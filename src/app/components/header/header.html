<header [class]="'fixed w-full z-50 border-b transition-colors duration-300 ' + (darkMode() ? 'bg-gray-950/80 backdrop-blur-sm border-gray-800' : 'bg-white/80 backdrop-blur-sm border-gray-200')">
  <div class="container mx-auto px-4 py-4 flex items-center">
    <div class="text-xl font-bold mr-8">
      <span [class]="darkMode() ? 'text-white' : 'text-gray-900'">{{ '{' }} </span>
      <span class="text-[#3b82f6]">dev</span>
      <span [class]="darkMode() ? 'text-white' : 'text-gray-900'"> {{ '}' }}</span>
    </div>

    <button (click)="toggleMobileMenu()" [class]="'md:hidden mr-auto ' + (darkMode() ? 'text-white' : 'text-gray-900')">
      @if (mobileMenuOpen()) {
        <lucide-angular [img]="XIcon" [size]="24"></lucide-angular>
      } @else {
        <lucide-angular [img]="MenuIcon" [size]="24"></lucide-angular>
      }
    </button>

    <nav class="hidden md:flex mx-auto space-x-8">
      <a (click)="scrollToSection('sobre-mi')" role="link" [class]="'cursor-pointer transition-colors ' + (darkMode() ? 'text-white hover:text-[#3b82f6]' : 'text-gray-900 hover:text-[#3b82f6]')">{{ 'header.about_me' | translate }}</a>
      <a (click)="scrollToSection('proyectos')" role="link" [class]="'cursor-pointer transition-colors ' + (darkMode() ? 'text-white hover:text-[#3b82f6]' : 'text-gray-900 hover:text-[#3b82f6]')">{{ 'header.projects' | translate }}</a>
      <a (click)="scrollToSection('experiencia')" role="link" [class]="'cursor-pointer transition-colors ' + (darkMode() ? 'text-white hover:text-[#3b82f6]' : 'text-gray-900 hover:text-[#3b82f6]')">{{ 'header.experience' | translate }}</a>
      <a (click)="scrollToSection('habilidades')" role="link" [class]="'cursor-pointer transition-colors ' + (darkMode() ? 'text-white hover:text-[#3b82f6]' : 'text-gray-900 hover:text-[#3b82f6]')">{{ 'header.skills' | translate }}</a>
      <a (click)="scrollToSection('contacto')" role="link" [class]="'cursor-pointer transition-colors ' + (darkMode() ? 'text-white hover:text-[#3b82f6]' : 'text-gray-900 hover:text-[#3b82f6]')">{{ 'header.contact' | translate }}</a>
    </nav>

    <div class="hidden md:flex items-center space-x-4">
      <button (click)="toggleLanguage()" [class]="'transition-colors p-2 ' + (darkMode() ? 'text-white hover:text-[#3b82f6]' : 'text-gray-900 hover:text-[#3b82f6]')" [attr.aria-label]="'header.change_language' | translate">
        <div class="flex items-center">
          <lucide-angular [img]="GlobeIcon" [size]="18"></lucide-angular>
          <span class="ml-1 text-sm font-medium">{{ currentLanguage().toUpperCase() }}</span> </div>
      </button>
      <button (click)="toggleDarkMode()" [class]="'transition-colors p-2 ' + (darkMode() ? 'text-white hover:text-[#3b82f6]' : 'text-gray-900 hover:text-[#3b82f6]')" [attr.aria-label]="(darkMode() ? 'header.change_to_light_mode' : 'header.change_to_dark_mode') | translate">
          @if(darkMode()){
            <lucide-angular [img]="SunIcon" [size]="18"></lucide-angular>
          } @else {
            <lucide-angular [img]="MoonIcon" [size]="18"></lucide-angular>
          }
      </button>
      <div [class]="'h-6 w-px ' + (darkMode() ? 'bg-gray-700' : 'bg-gray-300')"></div>
      <a href="https://github.com/rubensuarez22" target="_blank" [class]="'transition-colors p-1 ' + (darkMode() ? 'text-white hover:text-[#3b82f6]' : 'text-gray-900 hover:text-[#3b82f6]')" aria-label="GitHub"><lucide-angular [img]="GithubIcon" [size]="18"></lucide-angular></a>
      <a href="https://www.linkedin.com/in/ruben-suarez-7692512b7/" target="_blank" [class]="'transition-colors p-1 ' + (darkMode() ? 'text-white hover:text-[#3b82f6]' : 'text-gray-900 hover:text-[#3b82f6]')" aria-label="LinkedIn"><lucide-angular [img]="LinkedinIcon" [size]="18"></lucide-angular></a>
      <a href="mailto:rubens221001@gmail.com" [class]="'transition-colors p-1 ' + (darkMode() ? 'text-white hover:text-[#3b82f6]' : 'text-gray-900 hover:text-[#3b82f6]')" aria-label="Email"><lucide-angular [img]="MailIcon" [size]="18"></lucide-angular></a>
    </div>
  </div>

  @if (mobileMenuOpen()) {
    <nav [class]="'md:hidden py-4 transition-colors duration-300 ' + (darkMode() ? 'bg-[#1A1A1A]' : 'bg-white')">
      <div class="container mx-auto px-4 flex flex-col space-y-4">
        <a (click)="scrollToSection('sobre-mi')" role="link" [class]="'cursor-pointer transition-colors ' + (darkMode() ? 'text-white hover:text-[#3b82f6]' : 'text-gray-900 hover:text-[#3b82f6]')">{{ 'header.about_me' | translate }}</a>
        <a (click)="scrollToSection('proyectos')" role="link" [class]="'cursor-pointer transition-colors ' + (darkMode() ? 'text-white hover:text-[#3b82f6]' : 'text-gray-900 hover:text-[#3b82f6]')">{{ 'header.projects' | translate }}</a>
        <a (click)="scrollToSection('experiencia')" role="link" [class]="'cursor-pointer transition-colors ' + (darkMode() ? 'text-white hover:text-[#3b82f6]' : 'text-gray-900 hover:text-[#3b82f6]')">{{ 'header.experience' | translate }}</a>
        <a (click)="scrollToSection('habilidades')" role="link" [class]="'cursor-pointer transition-colors ' + (darkMode() ? 'text-white hover:text-[#3b82f6]' : 'text-gray-900 hover:text-[#3b82f6]')">{{ 'header.skills' | translate }}</a>
        <a (click)="scrollToSection('contacto')" role="link" [class]="'cursor-pointer transition-colors ' + (darkMode() ? 'text-white hover:text-[#3b82f6]' : 'text-gray-900 hover:text-[#3b82f6]')">{{ 'header.contact' | translate }}</a>
        
        <div [class]="'flex items-center space-x-4 pt-2 border-t ' + (darkMode() ? 'border-gray-800' : 'border-gray-200')">
            <button (click)="toggleLanguage()" [class]="'transition-colors ' + (darkMode() ? 'text-white hover:text-[#3b82f6]' : 'text-gray-900 hover:text-[#3b82f6]')" >
              <div class="flex items-center">
                <lucide-angular [img]="GlobeIcon" [size]="18"></lucide-angular>
                <span class="ml-1 text-sm">{{ currentLanguage().toUpperCase() }}</span>
              </div>
            </button>
            <button (click)="toggleDarkMode()" [class]="'transition-colors ' + (darkMode() ? 'text-white hover:text-[#3b82f6]' : 'text-gray-900 hover:text-[#3b82f6]')" >
              @if(darkMode()){ <lucide-angular [img]="SunIcon" [size]="18"></lucide-angular> } @else { <lucide-angular [img]="MoonIcon" [size]="18"></lucide-angular> }
            </button>
            <a href="https://github.com/rubensuarez22" target="_blank" [class]="'transition-colors ' + (darkMode() ? 'text-white hover:text-[#3b82f6]' : 'text-gray-900 hover:text-[#3b82f6]')" ><lucide-angular [img]="GithubIcon" [size]="18"></lucide-angular></a>
            <a href="https://www.linkedin.com/in/ruben-suarez-7692512b7/" target="_blank" [class]="'transition-colors ' + (darkMode() ? 'text-white hover:text-[#3b82f6]' : 'text-gray-900 hover:text-[#3b82f6]')" ><lucide-angular [img]="LinkedinIcon" [size]="18"></lucide-angular></a>
            <a href="mailto:rubens221001@gmail.com" [class]="'transition-colors ' + (darkMode() ? 'text-white hover:text-[#3b82f6]' : 'text-gray-900 hover:text-[#3b82f6]')" ><lucide-angular [img]="MailIcon" [size]="18"></lucide-angular></a>
        </div>
      </div>
    </nav>
  }
</header>